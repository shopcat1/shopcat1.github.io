(this["webpackJsonpnoom-app"]=this["webpackJsonpnoom-app"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(5),s=n.n(a),o=(n(12),n(2)),i=(n(13),n(3)),u=n(6),l=n(7),d=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"createRequest",value:function(e){var t={arg:e},n=[];for(var c in t){var r=encodeURIComponent(c),a=encodeURIComponent(t[c]);n.push(r+"="+a)}n=n.join("&"),fetch("https://api.particle.io/v1/devices/e00fce68873438d598031f19/led?access_token=837a518263b45941c837a9e45f82835107cc5948",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:n}).then((function(e){return console.log("Updated",e)})).catch((function(e){console.warn("Error Updating",e)}))}}]),e}(),f=(n(14),n(0)),h=0,j=function(e,t){return e/t},b=200,m=function(e){var t=e.i,n=e.circleProps,c=e.radius,r=e.halfSize,a=e.segment,s=e.thickness,o=e.circumference,u=e.getStrokeDashOffset,l=e.textProps,h=e.selectedButton,j=e.setSelectedButton;return Object(f.jsxs)("g",{className:"segmentGroup",onClick:function(){j(a.label),d.createRequest(a.arg)},children:[Object(f.jsx)("circle",Object(i.a)(Object(i.a)({},n),{},{className:"segmentCircle",r:c,cx:r,cy:r,transform:a.rotate,stroke:a.color,strokeWidth:h&&a.label===h?s+10:s,strokeDasharray:o,strokeDashoffset:u(a.value,o)})),Object(f.jsx)("text",Object(i.a)(Object(i.a)({},l),{},{x:a.textCoords.x,y:a.textCoords.y,dy:"3px",textAnchor:"middle",children:a.label}))]},t)},p=function(e){var t=(e.segments,360),n=function(t,n){var c=e.radius,r=(e.segments,function(e){return e*(Math.PI/180)}(360*j(t,360)/2+n)),a=1.03*c;return{x:a*Math.cos(r)+100,y:a*Math.sin(r)+100}},c=function(e,n){return n-j(e,t)*n},a=r.a.useState([]),s=Object(o.a)(a,2),i=s[0],u=s[1];r.a.useEffect((function(){var c=function(){var t=[],c=[],r=e.startAngle,a=e.segments;return h=r,a.forEach((function(e){var a=e.value,s=h,o=j(a,360),i=n(a,h),u=i.x,l=i.y;t.push(s),c.push({x:u,y:l});var d=t[t.length-1]||r;h=360*o+d})),{rotations:t,textCoords:c}}(),r=c.rotations,a=c.textCoords;u(e.segments.map((function(e,n){var c=e.value,s=e.color,o=e.label,i=e.arg;return{value:c,color:s,percent:j(c,t),rotate:"rotate(".concat(r[n],", ").concat(100,", ").concat(100,")"),textCoords:a[n],label:o,arg:i}})))}),[]);var l=e.width,p=e.radius,x=e.thickness,O=e.className,v=e.circleProps,g=e.textProps,w=e.selectedButton,C=e.setSelectedButton,S=function(e){return 2*Math.PI*e}(p),y=1.09*b;return Object(f.jsx)("div",{className:"donut-complex".concat(" donut-complex--loaded ").concat(O),children:Object(f.jsxs)("svg",{scale:l/b,height:l,width:l,viewBox:"-6 -30  ".concat(275.6," ").concat(212),children:[i.map((function(e,t){return Object(f.jsx)(m,{i:t,circleProps:v,radius:p,halfSize:100,segment:e,thickness:x,circumference:S,getStrokeDashOffset:c,textProps:g,selectedButton:w,setSelectedButton:C},t)})),Object(f.jsx)("g",{children:Object(f.jsx)("circle",{className:"centerCircle",r:.84*p,cx:100,cy:100,fill:"#efefef",z:1e3})},"Center"),Object(f.jsxs)("g",{className:"offButtonWrapper",onClick:function(){C("OFF"),d.createRequest("0,0,0,0")},children:[Object(f.jsx)("circle",{className:"OffButton",r:.55*p,cx:y,cy:-18,fill:"#FFF",z:1e3}),Object(f.jsx)("circle",{className:"OffButtonInner",r:.21*p,cx:y,cy:-18,fill:"#000",z:1e3}),Object(f.jsx)("text",{x:y,y:-18,dy:"3px",className:"whiteText",textAnchor:"middle",children:"OFF"})]},"OffButton")]})})};p.defaultProps={radius:60,segments:[],thickness:30,startAngle:-90,className:"",circleProps:{},textProps:{}};var x,O=p,v=(n(16),function(e){var t=r.a.useState({r:0,g:0,b:0,w:0}),n=Object(o.a)(t,2),c=n[0],a=n[1],s=e.selectedButton,u=e.setSelectedButton,l=e.width,h=s&&"CUSTOM"===s?"CustomValue selected":"CustomValue",j=l<970?{transform:"scale("+l/970+")"}:{},b=function(e){var t=e.target,n=t.value,r=t.name;if(n>=0&&n<=255){var s=Object(i.a)({},c);s[r]=n,a(s),u("--")}};return Object(f.jsxs)("div",{className:h,style:j,children:[Object(f.jsx)("h3",{children:"CUSTOM"}),Object(f.jsxs)("div",{className:"fields",children:[Object(f.jsx)("input",{type:"number",name:"r",value:c.r,onChange:b}),Object(f.jsx)("input",{type:"number",name:"g",value:c.g,onChange:b}),Object(f.jsx)("input",{type:"number",name:"b",value:c.b,onChange:b}),Object(f.jsx)("input",{type:"number",name:"w",value:c.w,onChange:b})]}),Object(f.jsx)("div",{onClick:function(){u("CUSTOM"),d.createRequest("".concat(c.r,",").concat(c.g,",").concat(c.b,",").concat(c.w))},className:"setButton",children:"SET"})]})});function g(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}!function(e){e.Loading="loading",e.Error="error",e.Loaded="loaded"}(x||(x={}));var w=function(){var e=r.a.useState(void 0),t=Object(o.a)(e,2),n=t[0],c=t[1],a=r.a.useState(void 0),s=Object(o.a)(a,2),i=s[0],u=s[1],l=r.a.useState(x.Loading),d=Object(o.a)(l,2),h=d[0],j=d[1];r.a.useEffect((function(){fetch("./buttons.json").then((function(e){return e.json()})).then((function(e){u(e),j(x.Loaded)})).catch((function(e){console.warn("Error Loading",e),j(x.Error)}))}),[]);var b=function(){var e=r.a.useState(g()),t=Object(o.a)(e,2),n=t[0],c=t[1];return r.a.useEffect((function(){function e(){c(g())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}().width;if(h===x.Loading)return Object(f.jsx)("div",{className:"App"});if(h===x.Error)return Object(f.jsx)("div",{className:"App",children:"There was an error loading the buttons."});var m=b>880?900:b-40;return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)("div",{className:"appWrapper",children:[Object(f.jsx)(O,{width:m,radius:80,segments:i,thickness:40,startAngle:-135,selectedButton:n,setSelectedButton:c}),Object(f.jsx)("div",{className:"customRow",children:Object(f.jsx)(v,{width:b,selectedButton:n,setSelectedButton:c})})]})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(w,{})}),document.getElementById("root")),C()}],[[17,1,2]]]);
//# sourceMappingURL=main.37ee37f9.chunk.js.map